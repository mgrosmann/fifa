#!/bin/bash
# ltl15_players_mysql.sh
# Export TXT réorganisé selon FIFA 15 pour la table players depuis MySQL

MYSQL_CMD="mysql -uroot -proot -h127.0.0.1 -P5000"
DB="FIFA14"
TABLE="players"
OUTFILE="players_fifa15_format.txt"

# --- Export avec here-document pour éviter les erreurs de retour à la ligne ---
$MYSQL_CMD -D "$DB" --batch --raw --column-names <<EOF > "$OUTFILE"
SELECT
    \`shoetypecode\`,
    \`haircolorcode\`,
    \`facialhairtypecode\`,
    \`curve\`,
    \`jerseystylecode\`,
    \`agility\`,
    \`accessorycode4\`,
    \`gksavetype\`,
    \`positioning\`,
    \`hairtypecode\`,
    \`standingtackle\`,
    \`faceposercode\`,
    \`preferredposition3\`,
    \`longpassing\`,
    \`penalties\`,
    \`animfreekickstartposcode\`,
    \`animpenaltieskickstylecode\`,
    \`isretiring\`,
    \`longshots\`,
    \`gkdiving\`,
    \`interceptions\`,
    \`shoecolorcode2\`,
    \`crossing\`,
    \`potential\`,
    \`gkreflexes\`,
    \`finishingcode1\`,
    \`reactions\`,
    \`vision\`,
    \`contractvaliduntil\`,
    \`finishing\`,
    \`dribbling\`,
    \`slidingtackle\`,
    \`accessorycode3\`,
    \`accessorycolourcode1\`,
    \`headtypecode\`,
    \`firstnameid\`,
    \`sprintspeed\`,
    \`height\`,
    \`hasseasonaljersey\`,
    \`preferredposition2\`,
    \`strength\`,
    \`birthdate\`,
    \`preferredposition1\`,
    \`ballcontrol\`,
    \`shotpower\`,
    \`trait1\`,
    \`socklengthcode\`,
    \`weight\`,
    \`hashighqualityhead\`,
    \`gkglovetypecode\`,
    \`balance\`,
    \`gkkicking\`,
    \`lastnameid\`,
    \`internationalrep\`,
    \`animpenaltiesmotionstylecode\`,
    \`shortpassing\`,
    \`freekickaccuracy\`,
    \`skillmoves\`,
    \`usercaneditname\`,
    \`attackingworkrate\`,
    \`finishingcode2\`,
    \`aggression\`,
    \`acceleration\`,
    \`headingaccuracy\`,
    \`eyebrowcode\`,
    \`runningcode2\`,
    \`gkhandling\`,
    \`eyecolorcode\`,
    \`jerseysleevelengthcode\`,
    \`accessorycolourcode3\`,
    \`accessorycode1\`,
    \`playerjointeamdate\`,
    \`headclasscode\`,
    \`defensiveworkrate\`,
    \`nationality\`,
    \`preferredfoot\`,
    \`sideburnscode\`,
    \`weakfootabilitytypecode\`,
    \`jumping\`,
    \`skintypecode\`,
    \`gkkickstyle\`,
    \`stamina\`,
    \`playerid\`,
    \`marking\`,
    \`accessorycolourcode4\`,
    \`gkpositioning\`,
    \`trait2\`,
    \`skintonecode\`,
    \`shortstyle\`,
    \`overallrating\`,
    \`jerseyfit\`,
    \`accessorycode2\`,
    \`shoedesigncode\`,
    \`playerjerseynameid\`,
    \`shoecolorcode1\`,
    \`commonnameid\`,
    \`bodytypecode\`,
    \`animpenaltiesstartposcode\`,
    \`runningcode1\`,
    \`preferredposition4\`,
    \`volleys\`,
    \`accessorycolourcode2\`,
    \`facialhaircolorcode\`
FROM \`$TABLE\`;
EOF

echo "✅ Fichier exporté : $OUTFILE"
